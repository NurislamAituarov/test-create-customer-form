(function(){"use strict";var e={8713:function(e,t,s){var r=s(7195),o=s(113),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("main",{staticClass:"main"},[t("h1",[e._v("Форма создания клиента")]),t("the-form")],1)])},n=[],l=function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[t("text-form-field",{attrs:{label:"Фамилия",fieldId:"lastName",validations:e.$v.lastName,required:""},model:{value:e.$v.lastName.$model,callback:function(t){e.$set(e.$v.lastName,"$model",t)},expression:"$v.lastName.$model"}}),t("text-form-field",{attrs:{label:"Имя",fieldId:"firstName",validations:e.$v.firstName,required:""},model:{value:e.$v.firstName.$model,callback:function(t){e.$set(e.$v.firstName,"$model",t)},expression:"$v.firstName.$model"}}),t("text-form-field",{attrs:{label:"Отчество",fieldId:"patronymic",validations:e.$v.patronymic},model:{value:e.$v.patronymic.$model,callback:function(t){e.$set(e.$v.patronymic,"$model",t)},expression:"$v.patronymic.$model"}}),t("div",{staticClass:"form__group form__group-date"},[e._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.birthdate.$model,expression:"$v.birthdate.$model"}],class:{"form__input-error":e.$v.birthdate.$error},attrs:{type:"date",id:"birthdate"},domProps:{value:e.$v.birthdate.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.birthdate,"$model",t.target.value)}}}),e.$v.birthdate.$error&&!e.$v.birthdate.required?t("span",{staticClass:"form__error"},[e._v("Дата рождения обязательна")]):e._e()]),t("text-form-field",{attrs:{label:"Номер телефона",fieldId:"phoneNumber",validations:e.$v.phoneNumber,required:""},model:{value:e.$v.phoneNumber.$model,callback:function(t){e.$set(e.$v.phoneNumber,"$model",t)},expression:"$v.phoneNumber.$model"}}),t("div",{staticClass:"form__group"},[t("label",{attrs:{for:"phoneNumber"}},[e._v("Пол")]),t("form-select",{attrs:{label:"Пол",placeholder:"муж",options:["муж","жен"]},model:{value:e.$v.gender.$model,callback:function(t){e.$set(e.$v.gender,"$model",t)},expression:"$v.gender.$model"}})],1),t("div",{staticClass:"form__group"},[e._m(1),t("form-select",{attrs:{label:"Группа клиентов",placeholder:"",multiselect:"",error:e.$v.customerGroup.$error,options:["VIP","Проблемные","ОМС"]},model:{value:e.$v.customerGroup.$model,callback:function(t){e.$set(e.$v.customerGroup,"$model",t)},expression:"$v.customerGroup.$model"}}),e.$v.customerGroup.$error&&!e.$v.customerGroup.required?t("span",{staticClass:"form__error"},[e._v("Группа клиентов обязательна")]):e._e()],1),t("div",{staticClass:"form__group"},[t("label",{attrs:{for:"doctor"}},[e._v("Лечащий врач")]),t("form-select",{attrs:{label:"Лечащий врач",placeholder:"-",options:["Иванов","Захаров","Чернышева"]},model:{value:e.$v.doctor.$model,callback:function(t){e.$set(e.$v.doctor,"$model",t)},expression:"$v.doctor.$model"}})],1),t("div",{staticClass:"form__group form__group-checkbox"},[t("label",{attrs:{for:"noSms"}},[e._v("Не отправлять СМС")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.noSms.$model,expression:"$v.noSms.$model"}],attrs:{type:"checkbox",id:"noSms"},domProps:{checked:Array.isArray(e.$v.noSms.$model)?e._i(e.$v.noSms.$model,null)>-1:e.$v.noSms.$model},on:{change:function(t){var s=e.$v.noSms.$model,r=t.target,o=!!r.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);r.checked?n<0&&e.$set(e.$v.noSms,"$model",s.concat([i])):n>-1&&e.$set(e.$v.noSms,"$model",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.$v.noSms,"$model",o)}}})]),t("hr",{staticClass:"line"}),t("h4",[e._v("Адрес:")]),t("div",{staticClass:"address"},e._l(e.addressFields,(function(s){return t("text-form-field",{key:s.name,attrs:{placeholder:s.placeholder,"group-type":s.name,validations:e.$v[s.name],fieldId:s.name,required:""},model:{value:e.$v[s.name].$model,callback:function(t){e.$set(e.$v[s.name],"$model",t)},expression:"$v[field.name].$model"}})})),1),t("hr",{staticClass:"line"}),t("h4",[e._v("Паспорт:")]),t("div",{staticClass:"passport"},[t("div",{staticClass:"form__group form__group-documentType"},[e._m(2),t("form-select",{attrs:{label:"Тип документа",placeholder:"-",options:["Паспорт","Свидетельство о рождении","Вод. удостоверение"],error:e.$v.documentType.$error},model:{value:e.$v.documentType.$model,callback:function(t){e.$set(e.$v.documentType,"$model",t)},expression:"$v.documentType.$model"}}),e.$v.documentType.$error&&!e.$v.documentType.required?t("span",{staticClass:"form__error"},[e._v("Тип документа обязательна")]):e._e()],1),t("text-form-field",{attrs:{fieldId:"series",placeholder:"Серия",validations:e.$v.series},model:{value:e.$v.series.$model,callback:function(t){e.$set(e.$v.series,"$model",t)},expression:"$v.series.$model"}}),t("text-form-field",{attrs:{fieldId:"number",placeholder:"Номер",validations:e.$v.number},model:{value:e.$v.number.$model,callback:function(t){e.$set(e.$v.number,"$model",t)},expression:"$v.number.$model"}}),t("text-form-field",{attrs:{fieldId:"issuedBy",placeholder:"Кем выдан",validations:e.$v.issuedBy},model:{value:e.$v.issuedBy.$model,callback:function(t){e.$set(e.$v.issuedBy,"$model",t)},expression:"$v.issuedBy.$model"}}),t("div",{staticClass:"form__group form__group-dateIssue"},[e._m(3),t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.dateIssue.$model,expression:"$v.dateIssue.$model"}],class:{"form__input-error":e.$v.dateIssue.$error},attrs:{type:"date",id:"dateIssue",placeholder:"Дата выдачи*"},domProps:{value:e.$v.dateIssue.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.dateIssue,"$model",t.target.value)}}}),e.$v.dateIssue.$error&&!e.$v.dateIssue.required?t("span",{staticClass:"form__error"},[e._v("Дата выдачи обязательна")]):e._e()])],1),t("base-btn",{attrs:{loading:e.loading}})],1)},a=[function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"birthdate"}},[e._v("Дата рождения"),t("span",{staticClass:"required"},[e._v("*")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"customerGroup"}},[e._v("Группа клиентов"),t("span",{staticClass:"required"},[e._v("*")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"doctor"}},[e._v("Тип документа"),t("span",{staticClass:"required"},[e._v("*")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"birthdate"}},[e._v("Дата выдачи"),t("span",{staticClass:"required"},[e._v("*")])])}],d=s(4940),u=function(){var e=this,t=e._self._c;return t("button",{staticClass:"btn",class:{success:"success"===e.loading},attrs:{type:"submit"}},[e._v(" "+e._s("disabled"===e.loading?"Создать":"")+" "+e._s("success"===e.loading?"Пользователь создан":"")+" "),"pending"===e.loading?t("base-spinner"):e._e()],1)},c=[],p=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"v-btn-label",mode:"out-in"}},[t("div",[t("span",{staticClass:"spinner"})])])},m=[],v={name:"BaseSpinner"},f=v,h=s(1001),_=(0,h.Z)(f,p,m,!1,null,"3afbead2",null),$=_.exports,b={components:{BaseSpinner:$},name:"BaseSubmitBtn",props:{loading:{type:String}}},y=b,g=(0,h.Z)(y,u,c,!1,null,"bf12329e",null),x=g.exports,k=function(){var e=this,t=e._self._c;return t("div",{ref:"containerSelect",staticClass:"form-select__control",class:{multiselect:e.multiselect}},[t("button",{ref:"button",staticClass:"form-select__button",class:{"form__input-error":e.error},attrs:{type:"button","aria-haspopup":"listbox",id:`${e._uid}-button`,"aria-labelledby":`${e._uid}-label ${e._uid}-button`,"aria-expanded":e.optionsVisible},on:{click:function(t){return t.preventDefault(),e.toggleOptions.apply(null,arguments)},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.showOptions.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectPrevOption.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectNextOption.apply(null,arguments))}]}},[e._v(" "+e._s(e.valueMain)+" "),e.value?e._e():t("span",{staticClass:"form-select__placeholder"},[e._v(e._s(e.placeholder))]),t("SvgAngle",{staticClass:"form-select__icon",class:{"form-select__icon--rotate-180":e.optionsVisible}})],1),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.optionsVisible,expression:"optionsVisible"}],ref:"options",staticClass:"form-select__options",class:{"form__input-error":e.error},attrs:{tabindex:"-1",role:"listbox","aria-labelledby":`${e._uid}-label`,"aria-activedescendant":e.activeDescendant},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectPrevOption.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectNextOption.apply(null,arguments))}],keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault()}}},e._l(e.options,(function(s,r){return t("li",{key:s.label||s,ref:e.setItemRef,refInFor:!0,staticClass:"form-select__option",class:{"has-focus":e.activeOptionIndex===r,"selected-option":e.multiselect&&e.value.includes(s)},attrs:{role:"option",tabindex:"0",id:`${e._uid}-option-${r}`,"aria-selected":e.activeOptionIndex===r},on:{click:function(t){return e.handleOptionClick(s)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleOptionClick(s))}}},[e._v(" "+e._s(s.label||s)+" ")])})),0)])},C=[],I=(s(560),function(){var e=this,t=e._self._c;return t("span",{staticClass:"SvgAngle"},[t("svg",{staticClass:"SvgAngle__svg",attrs:{width:"18",height:"18",viewBox:"0 0 18 18",focusable:"false"}},[t("path",{attrs:{fill:"currentColor",d:"M9.012 12.751a.655.655 0 0 1-.464-.193L2.19 6.109a.674.674 0 0 1 .028-.914.651.651 0 0 1 .9-.027l5.894 5.978 5.894-5.978a.651.651 0 0 1 .901.027c.246.25.258.65.027.914l-6.357 6.449a.655.655 0 0 1-.465.194","fill-rule":"evenodd"}})])])}),O=[],w={},N=(0,h.Z)(w,I,O,!1,null,null,null),S=N.exports,q={name:"FormSelect",components:{SvgAngle:S},model:{event:"change"},props:{label:{type:String,required:!0},placeholder:{type:String,default:"Select"},options:{type:Array,default:()=>[]},value:{type:[String,Number,Array],default:""},multiselect:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},data(){return{keysSoFar:"",tabKeyPressed:!1,optionsVisible:!1,optionsRef:[],optionIndex:-1}},mounted(){document.addEventListener("click",this.handleOutsideClick)},unmounted(){document.removeEventListener("click",this.handleOutsideClick)},computed:{activeOptionIndex(){return this.options.findIndex((e=>e.value===this.value||e===this.value))},activeDescendant(){return`${this._uid}-option-${this.activeOptionIndex}`},valueMain(){return this.multiselect?Array.isArray(this.value)&&this.value.length?this.value.join(", "):"-":this.value}},methods:{handleOptionClick(e){this.multiselect?this.$emit("change",this.updateValuesWithOption(e)):(this.$emit("change",e),this.reset())},handleBlur(e){this.$el.contains(e.relatedTarget)||this.hideOptions()},toggleOptions(){this.optionsVisible?this.hideOptions():this.showOptions()},async showOptions(){this.optionsVisible=!0,await this.$nextTick()},hideOptions(){this.optionsVisible=!1},async reset(){this.hideOptions(),this.optionIndex=-1,await this.$nextTick(),this.$refs.button.focus()},setupFocus(){this.value||this.$emit("change",this.options[0])},selectPrevOption(){this.optionIndex-=1,this.optionIndex<0&&(this.optionIndex=this.options.length-1),this.optionsRef[this.optionIndex].focus()},selectNextOption(){this.optionIndex+=1,this.optionIndex>=this.options.length&&(this.optionIndex=0),this.optionsRef[this.optionIndex].focus()},updateValuesWithOption(e){const t=this.value.includes(e)?this.value.filter((t=>t!==e)):[...this.value,e];return t},setItemRef(e){e&&this.optionsRef.push(e)},handleOutsideClick(e){const t=this.$refs.containerSelect,s=e.target,r=t?.contains(s);r||this.hideOptions()}}},T=q,A=(0,h.Z)(T,k,C,!1,null,"573be7e5",null),B=A.exports,D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form__group",class:`form__group-${e.fieldId}`},[e.label?t("label",{attrs:{for:e.fieldId}},[e._v(e._s(e.label)),e.required?t("span",{staticClass:"required"},[e._v("*")]):e._e()]):e._e(),t("input",{class:{"form__input-error":e.validations.$error},attrs:{type:e.inputType,id:e.fieldId,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),"lastName"===e.fieldId&&e.validations.$error&&!e.validations.required?t("span",{staticClass:"form__error"},[e._v("Фамилия обязательна")]):e._e(),"lastName"!==e.fieldId||e.validations.minLength?e._e():t("span",{staticClass:"form__error"},[e._v("Имя должно состоять минимум из 3 букв.")]),"firstName"===e.fieldId&&e.validations.$error&&!e.validations.required?t("span",{staticClass:"form__error"},[e._v("Имя обязательно")]):e._e(),"phoneNumber"===e.fieldId&&e.validations.$error&&!e.validations.required?t("span",{staticClass:"form__error"},[e._v("Номер телефона обязателен")]):"phoneNumber"!==e.fieldId||e.validations.startsWith7?"phoneNumber"!==e.fieldId||e.validations.numeric?"phoneNumber"!==e.fieldId||e.validations.minLength?e._e():t("span",{staticClass:"form__error"},[e._v("Номер телефона должен содержать 11 цифр")]):t("span",{staticClass:"form__error"},[e._v(" Номер состоит из цифр ")]):t("span",{staticClass:"form__error"},[e._v("Номер телефона должен начинаться с 7")]),"city"===e.fieldId&&e.validations.$error&&!e.validations.required?t("span",{staticClass:"form__error"},[e._v("Город проживания обязателен")]):e._e(),"number"!==e.fieldId||e.validations.numeric?e._e():t("span",{staticClass:"form__error"},[e._v(" Номер состоит из цифр ")])])},P=[],F={props:{label:String,required:{type:Boolean,default:!1},fieldId:String,value:[String,Number],inputType:{type:String,default:"text"},validations:{type:Object},placeholder:{type:String,default:""}}},Z=F,G=(0,h.Z)(Z,D,P,!1,null,"040738bc",null),R=G.exports,V={components:{FormSelect:B,BaseBtn:x,TextFormField:R},data(){return{lastName:"",firstName:"",patronymic:"",birthdate:null,phoneNumber:"",gender:"",customerGroup:[],doctor:"",noSms:!1,index:"",country:"",region:"",city:"",street:"",house:"",documentType:"",series:"",number:"",issuedBy:"",dateIssue:"",submitStatus:null,loading:"disabled",addressFields:[{name:"index",placeholder:"Индекс"},{name:"country",placeholder:"Страна"},{name:"region",placeholder:"Область"},{name:"city",placeholder:"Город*"},{name:"street",placeholder:"Улица"},{name:"house",placeholder:"Дом"}]}},validations:{lastName:{required:d.C1,minLength:(0,d.Ei)(3)},firstName:{required:d.C1},patronymic:{},birthdate:{required:d.C1},phoneNumber:{required:d.C1,numeric:d.uR,minLength:(0,d.Ei)(11),startsWith7:d.BM.regex("startsWith",/^7/)},gender:{},customerGroup:{required:d.C1},doctor:{},noSms:{},index:{},country:{},region:{},city:{required:d.C1},street:{},house:{},documentType:{required:d.C1},series:{},number:{numeric:d.uR},issuedBy:{},dateIssue:{required:d.C1}},methods:{submitForm(){this.loading="pending",this.$v.$touch(),this.$v.$invalid?(this.submitStatus="ERROR",this.loading="disabled"):(this.submitStatus="PENDING",setTimeout((()=>{this.submitStatus="OK",this.lastName="",this.firstName="",this.patronymic="",this.birthdate=null,this.phoneNumber="",this.gender="",this.customerGroup=[],this.doctor="",this.noSms=!1,this.submitStatus=null,this.city="",this.index="",this.country="",this.region="",this.street="",this.house="",this.documentType="",this.series="",this.number="",this.issuedBy="",this.dateIssue="",this.loading="success",setTimeout((()=>{this.loading="disabled"}),1e3),this.$v.$reset()}),1e3))}}},j=V,E=(0,h.Z)(j,l,a,!1,null,null,null),U=E.exports,L={name:"App",components:{TheForm:U}},M=L,W=(0,h.Z)(M,i,n,!1,null,null,null),K=W.exports;r.ZP.config.productionTip=!1,r.ZP.config.devtools=!0,r.ZP.use(o.ZP),new r.ZP({render:e=>e(K)}).$mount("#app")}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,r,o,i){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],i=e[u][2];for(var l=!0,a=0;a<r.length;a++)(!1&i||n>=i)&&Object.keys(s.O).every((function(e){return s.O[e](r[a])}))?r.splice(a--,1):(l=!1,i<n&&(n=i));if(l){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,n=r[0],l=r[1],a=r[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(a)var u=a(s)}for(t&&t(r);d<n.length;d++)i=n[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},r=self["webpackChunktest_create_user"]=self["webpackChunktest_create_user"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(8713)}));r=s.O(r)})();
//# sourceMappingURL=app.421a8fa7.js.map