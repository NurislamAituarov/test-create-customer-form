(function(){"use strict";var e={2320:function(e,t,r){var s=r(7195),o=r(113),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("main",{staticClass:"main"},[t("h1",[e._v("Форма создания клиента")]),t("the-form")],1)])},n=[],a=function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[t("text-form-field",{attrs:{label:"Фамилия",fieldId:"lastName",validations:e.$v.lastName,required:""},model:{value:e.$v.lastName.$model,callback:function(t){e.$set(e.$v.lastName,"$model",t)},expression:"$v.lastName.$model"}}),t("text-form-field",{attrs:{label:"Имя",fieldId:"firstName",validations:e.$v.firstName,required:""},model:{value:e.$v.firstName.$model,callback:function(t){e.$set(e.$v.firstName,"$model",t)},expression:"$v.firstName.$model"}}),t("text-form-field",{attrs:{label:"Отчество",fieldId:"patronymic",validations:e.$v.patronymic},model:{value:e.$v.patronymic.$model,callback:function(t){e.$set(e.$v.patronymic,"$model",t)},expression:"$v.patronymic.$model"}}),t("div",{staticClass:"form__group form__group-date"},[e._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.birthdate.$model,expression:"$v.birthdate.$model"}],class:{"form__input-error":e.$v.birthdate.$error},attrs:{type:"date",id:"birthdate"},domProps:{value:e.$v.birthdate.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.birthdate,"$model",t.target.value)}}}),e.$v.birthdate.$error&&!e.$v.birthdate.required?t("span",{staticClass:"form__error"},[e._v("Дата рождения обязательна")]):e._e()]),t("text-form-field",{attrs:{label:"Номер телефона",fieldId:"phoneNumber",validations:e.$v.phoneNumber,required:""},model:{value:e.$v.phoneNumber.$model,callback:function(t){e.$set(e.$v.phoneNumber,"$model",t)},expression:"$v.phoneNumber.$model"}}),t("div",{staticClass:"form__group"},[t("label",{attrs:{for:"phoneNumber"}},[e._v("Пол")]),t("form-select",{attrs:{label:"Пол",placeholder:"муж",options:["муж","жен"]},model:{value:e.$v.gender.$model,callback:function(t){e.$set(e.$v.gender,"$model",t)},expression:"$v.gender.$model"}})],1),t("div",{staticClass:"form__group"},[e._m(1),t("form-select",{attrs:{label:"Группа клиентов",placeholder:"",multiselect:"",error:e.$v.customerGroup.$error,options:["VIP","Проблемные","ОМС"]},model:{value:e.$v.customerGroup.$model,callback:function(t){e.$set(e.$v.customerGroup,"$model",t)},expression:"$v.customerGroup.$model"}}),e.$v.customerGroup.$error&&!e.$v.customerGroup.required?t("span",{staticClass:"form__error"},[e._v("Группа клиентов обязательна")]):e._e()],1),t("div",{staticClass:"form__group"},[t("label",{attrs:{for:"doctor"}},[e._v("Лечащий врач")]),t("form-select",{attrs:{label:"Лечащий врач",placeholder:"-",options:["Иванов","Захаров","Чернышева"]},model:{value:e.$v.doctor.$model,callback:function(t){e.$set(e.$v.doctor,"$model",t)},expression:"$v.doctor.$model"}})],1),t("div",{staticClass:"form__group form__group-checkbox"},[t("label",{attrs:{for:"noSms"}},[e._v("Не отправлять СМС")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.noSms.$model,expression:"$v.noSms.$model"}],attrs:{type:"checkbox",id:"noSms"},domProps:{checked:Array.isArray(e.$v.noSms.$model)?e._i(e.$v.noSms.$model,null)>-1:e.$v.noSms.$model},on:{change:function(t){var r=e.$v.noSms.$model,s=t.target,o=!!s.checked;if(Array.isArray(r)){var i=null,n=e._i(r,i);s.checked?n<0&&e.$set(e.$v.noSms,"$model",r.concat([i])):n>-1&&e.$set(e.$v.noSms,"$model",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.$v.noSms,"$model",o)}}})]),t("hr",{staticClass:"line"}),t("h4",[e._v("Адрес:")]),t("div",{staticClass:"address"},e._l(e.addressFields,(function(r){return t("form-group",{key:r.name,attrs:{type:"text",placeholder:r.placeholder,id:r.name,"group-type":r.name,validations:e.$v[r.name]},model:{value:e.$v[r.name].$model,callback:function(t){e.$set(e.$v[r.name],"$model",t)},expression:"$v[field.name].$model"}})})),1),t("hr",{staticClass:"line"}),t("h4",[e._v("Паспорт:")]),t("div",{staticClass:"passport"},[t("div",{staticClass:"form__group form__group-documentType"},[e._m(2),t("form-select",{attrs:{label:"Тип документа",placeholder:"-",options:["Паспорт","Свидетельство о рождении","Вод. удостоверение"],error:e.$v.documentType.$error},model:{value:e.$v.documentType.$model,callback:function(t){e.$set(e.$v.documentType,"$model",t)},expression:"$v.documentType.$model"}}),e.$v.documentType.$error&&!e.$v.documentType.required?t("span",{staticClass:"form__error"},[e._v("Тип документа обязательна")]):e._e()],1),t("form-group",{attrs:{type:"text",placeholder:"Серия",id:"series","group-type":"series",validations:e.$v.series},model:{value:e.$v.series.$model,callback:function(t){e.$set(e.$v.series,"$model",t)},expression:"$v.series.$model"}}),t("form-group",{attrs:{type:"text",id:"number",placeholder:"Номер","group-type":"number",validations:e.$v.number},model:{value:e.$v.number.$model,callback:function(t){e.$set(e.$v.number,"$model",t)},expression:"$v.number.$model"}}),t("form-group",{attrs:{type:"text",placeholder:"Кем выдан",id:"issuedBy","group-type":"issuedBy",validations:e.$v.issuedBy},model:{value:e.$v.issuedBy.$model,callback:function(t){e.$set(e.$v.issuedBy,"$model",t)},expression:"$v.issuedBy.$model"}}),t("div",{staticClass:"form__group form__group-dateIssue"},[e._m(3),t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.dateIssue.$model,expression:"$v.dateIssue.$model"}],class:{"form__input-error":e.$v.dateIssue.$error},attrs:{type:"date",id:"dateIssue",placeholder:"Дата выдачи*"},domProps:{value:e.$v.dateIssue.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.dateIssue,"$model",t.target.value)}}}),e.$v.dateIssue.$error&&!e.$v.dateIssue.required?t("span",{staticClass:"form__error"},[e._v("Дата выдачи обязательна")]):e._e()])],1),t("base-btn",{attrs:{loading:e.loading}})],1)},l=[function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"birthdate"}},[e._v("Дата рождения"),t("span",{staticClass:"required"},[e._v("*")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"customerGroup"}},[e._v("Группа клиентов"),t("span",{staticClass:"required"},[e._v("*")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"doctor"}},[e._v("Тип документа"),t("span",{staticClass:"required"},[e._v("*")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"birthdate"}},[e._v("Дата выдачи"),t("span",{staticClass:"required"},[e._v("*")])])}],u=r(4940),d=function(){var e=this,t=e._self._c;return t("button",{staticClass:"btn",class:{success:"success"===e.loading},attrs:{type:"submit"}},[e._v(" "+e._s("disabled"===e.loading?"Создать":"")+" "+e._s("success"===e.loading?"Пользователь создан":"")+" "),"pending"===e.loading?t("base-spinner"):e._e()],1)},c=[],p=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"v-btn-label",mode:"out-in"}},[t("div",[t("span",{staticClass:"spinner"})])])},m=[],v={name:"BaseSpinner"},f=v,h=r(1001),$=(0,h.Z)(f,p,m,!1,null,"3afbead2",null),_=$.exports,y={components:{BaseSpinner:_},name:"BaseSubmitBtn",props:{loading:{type:String}}},b=y,g=(0,h.Z)(b,d,c,!1,null,"bf12329e",null),k=g.exports,x=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-select__control",class:{multiselect:e.multiselect}},[t("button",{ref:"button",staticClass:"form-select__button",class:{"form__input-error":e.error},attrs:{"aria-haspopup":"listbox",id:`${e._uid}-button`,"aria-labelledby":`${e._uid}-label ${e._uid}-button`,"aria-expanded":e.optionsVisible},on:{click:function(t){return t.preventDefault(),e.toggleOptions.apply(null,arguments)},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.showOptions.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectPrevOption.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectNextOption.apply(null,arguments))}]}},[e._v(" "+e._s(e.valueMain)+" "),e.value?e._e():t("span",{staticClass:"form-select__placeholder"},[e._v(e._s(e.placeholder))]),t("SvgAngle",{staticClass:"form-select__icon",class:{"form-select__icon--rotate-180":e.optionsVisible}})],1),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.optionsVisible,expression:"optionsVisible"}],ref:"options",staticClass:"form-select__options",attrs:{tabindex:"-1",role:"listbox","aria-labelledby":`${e._uid}-label`,"aria-activedescendant":e.activeDescendant},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectPrevOption.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectNextOption.apply(null,arguments))}],keydown:[e.search,function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.reset.apply(null,arguments))}]}},e._l(e.options,(function(r,s){return t("li",{key:r.label||r,staticClass:"form-select__option",class:{"has-focus":e.activeOptionIndex===s,"selected-option":e.multiselect&&e.value.includes(r)},attrs:{id:`${e._uid}-option-${s}`,"aria-selected":e.activeOptionIndex===s,role:"option"},on:{click:function(t){return e.handleOptionClick(r)}}},[e._v(" "+e._s(r.label||r)+" ")])})),0)])},C=[],O=function(){var e=this,t=e._self._c;return t("span",{staticClass:"SvgAngle"},[t("svg",{staticClass:"SvgAngle__svg",attrs:{width:"18",height:"18",viewBox:"0 0 18 18",focusable:"false"}},[t("path",{attrs:{fill:"currentColor",d:"M9.012 12.751a.655.655 0 0 1-.464-.193L2.19 6.109a.674.674 0 0 1 .028-.914.651.651 0 0 1 .9-.027l5.894 5.978 5.894-5.978a.651.651 0 0 1 .901.027c.246.25.258.65.027.914l-6.357 6.449a.655.655 0 0 1-.465.194","fill-rule":"evenodd"}})])])},S=[],w={},N=(0,h.Z)(w,O,S,!1,null,null,null),I=N.exports;let q;var T={name:"FormSelect",components:{SvgAngle:I},model:{event:"change"},props:{label:{type:String,required:!0},placeholder:{type:String,default:"Select"},options:{type:Array,default:()=>[]},value:{type:[String,Number,Array],default:""},multiselect:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},data(){return{keysSoFar:"",tabKeyPressed:!1,optionsVisible:!1}},computed:{activeOptionIndex(){return this.options.findIndex((e=>e.value===this.value||e===this.value))},prevOptionIndex(){const e=this.activeOptionIndex-1;return e>=0?e:this.options.length-1},nextOptionIndex(){const e=this.activeOptionIndex+1;return e<=this.options.length-1?e:0},activeDescendant(){return`${this._uid}-option-${this.activeOptionIndex}`},valueMain(){return this.multiselect?this.value.length?this.value.join(", "):"-":this.value}},methods:{handleFocusTrap(){this.optionsVisible=!0,this.$refs.button.focus()},handleOptionClick(e){this.multiselect?this.$emit("change",[...this.value,e]):this.$emit("change",e),this.reset()},handleBlur(e){this.$el.contains(e.relatedTarget)||this.hideOptions()},toggleOptions(){this.optionsVisible?this.hideOptions():this.showOptions()},async showOptions(){this.optionsVisible=!0,await this.$nextTick(),this.$refs.options.focus()},hideOptions(){this.optionsVisible=!1},async reset(){this.hideOptions(),await this.$nextTick(),this.$refs.button.focus()},setupFocus(){this.value||this.$emit("change",this.options[0])},selectPrevOption(){this.$emit("change",this.options[this.prevOptionIndex])},selectNextOption(){this.$emit("change",this.options[this.nextOptionIndex])},search(e){if(clearTimeout(q),e.key.length>1)return;q=setTimeout((()=>{this.keysSoFar=""}),500),this.keysSoFar+=e.key;const t=this.options.find((e=>(e.value||e).toLowerCase().startsWith(this.keysSoFar)));t&&this.$emit("change",t)}}},B=T,D=(0,h.Z)(B,x,C,!1,null,"3f06d9b4",null),A=D.exports,F=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form__group",class:`form__group-${e.groupType}`},[t("input",{attrs:{type:e.type,id:e.id,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),"city"===e.id&&e.validations.$error&&!e.validations.required?t("span",{staticClass:"form__error"},[e._v("Город проживания обязателен")]):e._e(),"number"!==e.id||e.validations.numeric?e._e():t("span",{staticClass:"form__error"},[e._v(" Номер состоит из цифр ")])])},P=[],G={name:"FormGroup",props:{value:{type:String},type:{type:String},placeholder:{type:String},id:{type:String},validations:{type:Object},groupType:{type:String}}},Z=G,V=(0,h.Z)(Z,F,P,!1,null,"600fccfe",null),j=V.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form__group"},[t("label",{attrs:{for:e.fieldId}},[e._v(e._s(e.label)),e.required?t("span",{staticClass:"required"},[e._v("*")]):e._e()]),t("input",{class:{"form__input-error":e.validations.$error},attrs:{type:e.inputType,id:e.fieldId},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),"lastName"===e.fieldId&&e.validations.$error&&!e.validations.required?t("span",{staticClass:"form__error"},[e._v("Фамилия обязательна")]):e._e(),"lastName"!==e.fieldId||e.validations.minLength?e._e():t("span",{staticClass:"form__error"},[e._v("Имя должно состоять минимум из 3 букв.")]),"firstName"===e.fieldId&&e.validations.$error&&!e.validations.required?t("span",{staticClass:"form__error"},[e._v("Имя обязательно")]):e._e(),"phoneNumber"===e.fieldId&&e.validations.$error&&!e.validations.required?t("span",{staticClass:"form__error"},[e._v("Номер телефона обязателен")]):"phoneNumber"!==e.fieldId||e.validations.startsWith7?"phoneNumber"!==e.fieldId||e.validations.numeric?"phoneNumber"!==e.fieldId||e.validations.minLength?e._e():t("span",{staticClass:"form__error"},[e._v("Номер телефона должен содержать 11 цифр")]):t("span",{staticClass:"form__error"},[e._v(" Номер состоит из цифр ")]):t("span",{staticClass:"form__error"},[e._v("Номер телефона должен начинаться с 7")])])},U=[],L={props:{label:String,required:{type:Boolean,default:!1},fieldId:String,value:[String,Number],inputType:{type:String,default:"text"},validations:{type:Object}}},M=L,R=(0,h.Z)(M,E,U,!1,null,"9046cbd6",null),W=R.exports,K={components:{FormSelect:A,BaseBtn:k,FormGroup:j,TextFormField:W},data(){return{lastName:"",firstName:"",patronymic:"",birthdate:null,phoneNumber:"",gender:"",customerGroup:[],doctor:"",noSms:!1,index:"",country:"",region:"",city:"",street:"",house:"",documentType:"",series:"",number:"",issuedBy:"",dateIssue:"",submitStatus:null,loading:"disabled",addressFields:[{name:"index",placeholder:"Индекс"},{name:"country",placeholder:"Страна"},{name:"region",placeholder:"Область"},{name:"city",placeholder:"Город*"},{name:"street",placeholder:"Улица"},{name:"house",placeholder:"Дом"}]}},validations:{lastName:{required:u.C1,minLength:(0,u.Ei)(3)},firstName:{required:u.C1},patronymic:{},birthdate:{required:u.C1},phoneNumber:{required:u.C1,numeric:u.uR,minLength:(0,u.Ei)(11),startsWith7:u.BM.regex("startsWith",/^7/)},gender:{},customerGroup:{required:u.C1},doctor:{},noSms:{},index:{},country:{},region:{},city:{required:u.C1},street:{},house:{},documentType:{required:u.C1},series:{},number:{numeric:u.uR},issuedBy:{},dateIssue:{required:u.C1}},methods:{submitForm(){this.loading="pending",this.$v.$touch(),this.$v.$invalid?(this.submitStatus="ERROR",this.loading="disabled"):(this.submitStatus="PENDING",setTimeout((()=>{this.submitStatus="OK",this.lastName="",this.firstName="",this.patronymic="",this.birthdate=null,this.phoneNumber="",this.gender="",this.customerGroup=[],this.doctor="",this.noSms=!1,this.submitStatus=null,this.city="",this.index="",this.country="",this.region="",this.street="",this.house="",this.documentType="",this.series="",this.number="",this.issuedBy="",this.dateIssue="",this.loading="success",setTimeout((()=>{this.loading="disabled"}),1e3),this.$v.$reset()}),1e3))}}},z=K,H=(0,h.Z)(z,a,l,!1,null,"36737a9c",null),J=H.exports,Q={name:"App",components:{TheForm:J}},X=Q,Y=(0,h.Z)(X,i,n,!1,null,null,null),ee=Y.exports;s.ZP.config.productionTip=!1,s.ZP.config.devtools=!0,s.ZP.use(o.ZP),new s.ZP({render:e=>e(ee)}).$mount("#app")}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,s,o,i){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],i=e[d][2];for(var a=!0,l=0;l<s.length;l++)(!1&i||n>=i)&&Object.keys(r.O).every((function(e){return r.O[e](s[l])}))?s.splice(l--,1):(a=!1,i<n&&(n=i));if(a){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,o,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,i,n=s[0],a=s[1],l=s[2],u=0;if(n.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var d=l(r)}for(t&&t(s);u<n.length;u++)i=n[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},s=self["webpackChunktest_create_user"]=self["webpackChunktest_create_user"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(2320)}));s=r.O(s)})();
//# sourceMappingURL=app.8957fb47.js.map